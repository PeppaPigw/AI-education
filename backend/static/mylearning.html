<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI-Education - 我的学习</title>
    <link rel="stylesheet" href="/static/css/mylearning.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>
  <body>
    <header class="main-header">
      <nav class="navbar container">
        <div class="nav-left">
          <span
            class="logo"
            onclick="window.location.href='/static/mainpage.html'"
            >AI-Education</span
          >
          <div class="nav-links">
            <a href="/static/mainpage.html">首页</a>
            <a href="/static/mylearning.html" class="active">我的学习</a>
            <a href="/static/coursecontent.html">课程内容</a>
          </div>
        </div>

        <div class="nav-right">
          <div class="profile-icon" title="个人中心" style="cursor: pointer">
            W
          </div>
        </div>
      </nav>
    </header>

    <main class="main-dashboard container">
      <div class="dashboard-layout">
        <aside class="dashboard-sidebar">
          <div class="greeting-box">
            <div class="greeting-icon">W</div>
            <div class="greeting-text">
              <h2>晚上好, WangQiyu</h2>
              <p>
                您的学习目标是<strong>熟练掌握数据分析</strong>, 已选择课程
                <span class="goal-tag">大数据基础概念</span>,
                <span class="goal-tag">数据获取</span>,
                <span class="goal-tag">数据质量与预处理</span>,
                <span class="goal-tag">数据存储系统</span>
              </p>
            </div>
          </div>

          <div class="widget-card">
            <h3>今日目标</h3>
            <ul class="goal-list">
              <li class="goal-item">
                <span class="icon">⭐</span> 访问 Coursera
              </li>
              <li class="goal-item">
                <span class="icon">🏁</span> 完成任意4个学习项目 1/4
              </li>
              <li class="goal-item">
                <span class="icon">📅</span> 制定学习计划
              </li>
            </ul>
          </div>

          <div class="widget-card">
            <div class="calendar-header">
              <h3>学习日历</h3>
              <a href="#" onclick="showCreatePlanForm(); return false;"
                >+ 制定计划</a
              >
            </div>

            <div class="calendar-nav">
              <button type="button" id="prev-month">&lt;</button>
              <h4 id="calendar-title">加载中...</h4>
              <button type="button" id="next-month">&gt;</button>
            </div>

            <div class="calendar-grid-header">
              <span>日</span><span>一</span><span>二</span><span>三</span
              ><span>四</span><span>五</span><span>六</span>
            </div>

            <div class="calendar-grid" id="calendar-grid">
              <!-- 日历单元格将由JavaScript动态生成 -->
            </div>

            <div class="calendar-footer">
              <p id="calendar-stats">本月学习计划：0 个</p>
            </div>
          </div>
        </aside>

        <section class="main-feed">
          <div class="feed-tabs">
            <button class="feed-tab active" onclick="showPlansTab()">
              我的学习计划
            </button>
            <button class="feed-tab" onclick="showCreateTab()">
              创建新计划
            </button>
          </div>

          <!-- 学习计划列表 -->
          <div id="plans-tab">
            <div id="plans-list">
              <!-- 学习计划列表将由JavaScript动态生成 -->
              <div class="empty-state">
                <div class="empty-state-icon">📋</div>
                <p>加载学习计划中...</p>
              </div>
            </div>
          </div>

          <div id="create-tab" style="display: none">
            <div class="create-plan-form">
              <h3>📝 创建新的学习计划</h3>
              <p style="color: var(--text-light); margin-bottom: 20px">
                根据您的学习目标，我们将为您生成个性化的学习计划
              </p>
              <label
                style="display: block; margin-bottom: 8px; font-weight: 600"
                >语言</label
              >
              <select
                id="lang-select"
                style="
                  width: 100%;
                  padding: 12px;
                  border: 1px solid var(--border-gray);
                  border-radius: 4px;
                  margin-bottom: 16px;
                "
              >
                <option>🌐 Auto-detect</option>
              </select>
              <label
                style="display: block; margin-bottom: 8px; font-weight: 600"
                >姓名</label
              >
              <input
                type="text"
                id="plan-name"
                placeholder="请输入您的姓名，例如：张三"
              />

              <label
                style="display: block; margin-bottom: 8px; font-weight: 600"
              >
                学习目标
                <span style="color: var(--text-light); font-weight: normal"
                  >（用分号隔开多个目标）</span
                >
              </label>
              <textarea
                id="plan-goals"
                placeholder="例如：掌握Python基础; 学习数据分析; 了解机器学习"
              ></textarea>

              <label
                style="display: block; margin-bottom: 8px; font-weight: 600"
                >学习类型</label
              >
              <select
                id="plan-priority"
                style="
                  width: 100%;
                  padding: 12px;
                  border: 1px solid var(--border-gray);
                  border-radius: 4px;
                  margin-bottom: 16px;
                "
              >
                <option value="基础知识" selected>基础知识</option>
                <option value="实践应用">实践应用</option>
                <option value="原理分析">原理分析</option>
                <option value="拓展创新">拓展创新</option>
              </select>

              <label
                style="display: block; margin-bottom: 8px; font-weight: 600"
                >完成期限</label
              >
              <select
                id="plan-deadline"
                style="
                  width: 100%;
                  padding: 12px;
                  border: 1px solid var(--border-gray);
                  border-radius: 4px;
                  margin-bottom: 16px;
                "
              >
                <option value="1">1天</option>
                <option value="3">3天</option>
                <option value="7" selected>1周</option>
                <option value="14">2周</option>
                <option value="30">1个月</option>
              </select>

              <button onclick="generatePlan()">🚀 生成学习计划</button>

              <div id="plan-output" style="margin-top: 20px"></div>
            </div>
          </div>
        </section>
      </div>
    </main>
    <script src="/static/js/mylearning.js"></script>
  </body>
</html>
